!function(t){function e(e){for(var i,o,s=e[0],c=e[1],l=e[2],d=0,h=[];d<s.length;d++)o=s[d],r[o]&&h.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);for(u&&u(e);h.length;)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={0:0},a=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([37,1]),n()}({0:function(t,e){t.exports=THREE},32:function(t,e,n){"use strict";var i=n(5);n.n(i).a},33:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,"#app[data-v-617ab0be] {\n  position: relative;\n  width: 1920px;\n  height: 940px;\n}\n#app3D-container[data-v-617ab0be] {\n  position: absolute;\n  color: blue;\n  font-size: 32px;\n  width: 1000px;\n  height: 580px;\n}\n.chart[data-v-617ab0be] {\n  position: absolute;\n}\n.venue-person-chart[data-v-617ab0be] {\n  top: 580px;\n}\n.venue-time-chart[data-v-617ab0be] {\n  top: 580px;\n  left: 800px;\n}\n.time-range-chart[data-v-617ab0be] {\n  top: 0px;\n  left: 1000px;\n}\n.slide[data-v-617ab0be] {\n  position: absolute;\n  width: 1000px;\n  bottom: 10px;\n  left: 10px;\n}\n.status-bar[data-v-617ab0be] {\n  position: absolute;\n  bottom: 0;\n  z-index: 100;\n}\n.status-bar #timer[data-v-617ab0be] {\n  display: inline-block;\n  width: 200px;\n}\n.status-bar #content[data-v-617ab0be] {\n  display: inline-block;\n  width: 800px;\n  color: green;\n}\n#loading[data-v-617ab0be] {\n  position: absolute;\n  width: 300px;\n  height: 100px;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  font-size: 36px;\n  color: greenyellow;\n}\n.label[data-v-617ab0be] {\n  color: #FFF;\n  font-family: sans-serif;\n  padding: 2px;\n  background: rgba(0, 0, 0, 0.6);\n  transition: transform 100ms;\n}\n",""])},34:function(t,e,n){"use strict";var i=n(6);n.n(i).a},35:function(t,e,n){(e=t.exports=n(4)(!1)).i(n(36),""),e.push([t.i,"\r\n",""])},36:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".g2-tooltip {\r\n  position: absolute;\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  border-radius: 3px;\r\n  color: rgb(87, 87, 87);\r\n  font-size: 12px;\r\n  line-height: 20px;\r\n  padding: 10px 0px 6px 10px;\r\n  box-shadow: 0px 0px 10px #aeaeae;\r\n  pointer-events: none;\r\n}\r\n\r\n.g2-tooltip-list {\r\n  margin: 0;\r\n  padding: 0;\r\n  list-style-type: none;\r\n  width: 300px\r\n}\r\n\r\n.g2-tooltip-list li{\r\n  width: calc(50% - 10px);\r\n  padding-right: 10px;\r\n  float: left;\r\n}\r\n\r\n.g2-tooltip-value {\r\n  margin-left: 30px;\r\n  display: inline;\r\n  float: right;\r\n}",""])},37:function(t,e,n){"use strict";n.r(e);var i=n(7),r=(n(21),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{ref:"app3D",attrs:{id:"app3D-container"}}),t._v(" "),n("venue-person-chart",{staticClass:"chart venue-person-chart"}),t._v(" "),n("venue-time-chart",{staticClass:"chart venue-time-chart"}),t._v(" "),n("time-range-chart",{staticClass:"chart time-range-chart"}),t._v(" "),n("slide",{staticClass:"slide"}),t._v(" "),n("div",{staticClass:"status-bar"},[n("span",{attrs:{id:"timer"}},[t._v(t._s(t.timeString))]),t._v(" "),n("span",{attrs:{id:"content"}},[t._v(t._s(t.lastPointsNumString))])]),t._v(" "),t.isLoading?n("div",{attrs:{id:"loading"}},[t._v("\n    LOADING\n  ")]):t._e()],1)});r._withStripped=!0;var a=n(14),o=n.n(a),s=n(15),c=n.n(s),l=n(0),u=(n(24),n(25),n(16)),d=n.n(u),h=n(17),p=n.n(h),m=function(t){var e=new l.CatmullRomCurve3(t);e.curveType="chordal";var n=e.getPoints(5*t.length),i=(new l.BufferGeometry).setFromPoints(n),r=new l.LineBasicMaterial({color:16711680}),a=new l.Line(i,r);return a.position.set(-15,0,-8),a},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.4,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16742212,n=new l.BufferGeometry,i=new Float32Array([l.Math.randFloatSpread(.8),0,l.Math.randFloatSpread(.8)]);n.addAttribute("position",new l.BufferAttribute(i,3));var r=new l.PointsMaterial({size:.3,color:e,opacity:t,transparent:!0,sizeAttenuation:!0,depthTest:!1});return new l.Points(n,r)},v=n(18),g=n.n(v),_=function(t,e){return Object.values(t).map(function(t){return w(t,e)}).filter(function(t){return t})},b=function(t){var e=Math.floor(t/3600),n=Math.floor(t%3600/60),i=t%60;return"\n    ".concat(e>9?e:"0"+e,"\n    :\n    ").concat(n>9?n:"0"+n,"\n    :\n    ").concat(i>9?i:"0"+i,"\n  ").replace(/\s/g,"")},w=function(t,e){for(var n=0,i=t.length-1,r=Math.floor((n+i)/2);n<=i;){var a=t[r];if(e===a.time)return a;if(e>a.time){if(r+1<t.length&&e<t[r+1].time)return a;n=r+1}if(e<a.time){if(r-1>=0&&e>t[r-1].time)return t[r-1];i=r-1}r=Math.floor((n+i)/2)}return!1},x=n(10),y=n(2),S=n.n(y),P={setState:function(t,e){t.state;(0,t.commit)("setState",{key:e.key,value:e.value})},loadCSVData:function(t,e){t.state;var n=t.commit;fetch("public/csv/".concat(e)).then(function(t){return t.text()}).then(function(t){return function(t){var e=t.trim().split(/\r?\n/),n=g()(e),i=n[0],r=n.slice(1),a=i.split(",");return r.map(function(t){for(var e=t.split(",").map(function(t){return parseInt(t)}),n={},i=0;i<a.length;i++)n[a[i]]=e[i];var r=n.sid;return n.x=Math.floor(r/100)%100,n.y=r%100,n.z=Math.floor(r/1e4),n}).sort(function(t,e){return t.id-e.id>0?1:t.id-e.id<0?-1:t.id-e.id==0?t.time-e.time:void 0})}(t)}).then(function(t){n("setLoaded",!1),window.data=function(t){for(var e={},n=0,i=t[0],r=[];n<t.length;n++){var a=t[n];i.id!==a.id?(e[i.id]=r,r=[],i=a):r.push(a),n++}return e}(t),window.params=S()({},function(t){for(var e=Object.values(t),n=86400,i=0,r=0;r<e.length;r++){var a=e[r],o=a[0].time,s=a[a.length-1].time;n=o<n?o:n,i=s>i?s:i}return{min:n,max:i}}(window.data)),window.originData=t})}};i.a.use(x.a);var C=new x.a.Store({state:{loading:!0,lastPointsNum:0,timestamp:24e3,currentLog:{},auto:!1,ratio:24,data:{}},getters:{getState:function(t){return function(e){return t[e]}},getDataById:function(t){return function(e){return t.data[e]}},all:function(t){return t}},mutations:{setState:function(t,e){var n=e.key,i=e.value;t[n]=i},setLoaded:function(t,e){t.loading=e},setData:function(t,e){t.data=e}},actions:P,strict:!1}),k=l.OrbitControls;window.drawCurve=m;var D=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o()(this,t),window.b=this;var n=C.getters.all,i=n.timestamp,r=n.ratio;this.debug=e,this.pointsPool=[],this._currentCurve={},this.params={reset:function(){C.dispatch("setState",{key:"timestamp",value:24e3})},timestamp:i,ratio:r,auto:function(){var t=C.getters.getState("auto");C.dispatch("setState",{key:"auto",value:!t})}},this.init(),this.createFloors(),this.createPointPool(),this.createRaycaster(),this.createLabel()}return c()(t,[{key:"init",value:function(){this._camera=new l.PerspectiveCamera(50,1e3/600,.1,1e3),this._camera.position.set(-19,25,28),this._camera.rotation.set(-.78,-.41,-.38),this._scene=new l.Scene,this._scene.background=new l.Color(15790320);var t=new l.AmbientLight(15790320);this._scene.add(t),this._renderer=new l.WebGLRenderer({alpha:!0,antialias:!0}),this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.setSize(1e3,600),this._renderer.setClearColor(0,0),this._renderer.autoClear=!1,this._labelRenderer=new l.CSS2DRenderer,this._labelRenderer.setSize(1e3,600),this._labelRenderer.domElement.style.position="absolute",this._labelRenderer.domElement.style.top=0,this.debug&&(this._gui=new p.a.GUI,this._gui.add(this.params,"reset"),this._gui.add(this.params,"timestamp",2e4,7e4).step(10),this._gui.add(this.params,"ratio",1,60).step(1),this._gui.add(this.params,"auto"),this._gui.close(),this._stats=new d.a),this._mouse=new l.Vector2,this._timeout_window_resize=null,window.addEventListener("resize",this.onWindowResize.bind(this),!1)}},{key:"mount",value:function(t){this._dom=t,this._controls=new k(this._camera,this._dom),this._controls.update(),this._dom.appendChild(this._renderer.domElement),this._dom.appendChild(this._labelRenderer.domElement),this._dom.appendChild(this._stats.dom),this._dom.addEventListener("mousemove",this.onMouseMove.bind(this),!1)}},{key:"createFloors",value:function(){var t=(new l.TextureLoader).load("public/img/floor1.jpg");t.wrapS=t.wrapT=l.RepeatWrapping,t.anisotropy=16;var e=new l.MeshPhongMaterial({map:t,side:l.DoubleSide,transparent:!0});e.opacity=.6;var n=new l.Mesh(new l.PlaneBufferGeometry(30,16),e);n.position.set(-.5,-.1,-.5),n.rotation.x=-Math.PI/2,this._scene.add(n);var i=(new l.TextureLoader).load("public/img/floor2.jpg");i.wrapS=i.wrapT=l.RepeatWrapping,i.anisotropy=16;var r=new l.MeshPhongMaterial({map:i,side:l.DoubleSide,transparent:!0});r.opacity=.6;var a=new l.Mesh(new l.PlaneBufferGeometry(30,16),r);a.position.set(-.5,9.9,-.5),a.rotation.x=-Math.PI/2,this._scene.add(a)}},{key:"createPointPool",value:function(){for(var t=0;t<5e3;t++){var e=f();e.visible=!1,this.pointsPool.push(e),this._scene.add(e)}}},{key:"createRaycaster",value:function(){this._raycaster=new l.Raycaster,this._raycaster.params.Points.threshold=.1}},{key:"createLabel",value:function(){this._labelDiv=document.createElement("div"),this._labelDiv.className="label",this._labelDiv.style.marginTop="-1em",this._label=new l.CSS2DObject(this._labelDiv),this._labelPoint=f(0),this._labelPoint.add(this._label),this._scene.add(this._labelPoint)}},{key:"getPosition",value:function(t){return[t.y-15,10*(t.z-1),t.x-8]}},{key:"drawPoints",value:function(){for(var t=this,e=C.getters.getState("lastPointsNum"),n=0;n<e;n++)this.pointsPool[n].visible=!1;var i=_(window.data||{},this.params.timestamp);C.dispatch("setState",{key:"lastPointsNum",value:i.length}),i.forEach(function(e,n){t.pointsPool[n].position.fromArray(t.getPosition(e)),t.pointsPool[n].visible=!0,t.pointsPool[n].userData.log=e})}},{key:"onWindowResize",value:function(){var t=this;clearTimeout(this._timeout_window_resize),setTimeout(function(){t._camera.aspect=1e3/600,t._camera.updateProjectionMatrix(),t._renderer.setSize(1e3,600)},this._timeout_window_resize)}},{key:"onMouseMove",value:function(t){this._mouse.x=t.clientX/1e3*2-1,this._mouse.y=-t.clientY/600*2+1}},{key:"animate",value:function(){requestAnimationFrame(this.animate.bind(this));var t=null;if(0!==this._mouse.x&&0!==this._mouse.y){this._raycaster.setFromCamera(this._mouse,this._camera);var e=this._raycaster.intersectObjects(this.pointsPool);t=e.length>0?e[0]:null}if(null!==t){this._labelPoint.position.copy(t.point);var n=t.object.userData.log;this._labelDiv.textContent="ID: "+n.id,C.dispatch("setState",{key:"currentLog",value:t.object.userData.log});var i=window.data[n.id].map(function(t){return new l.Vector3(t.y,10*(t.z-1),t.x)});this._scene.remove(this._currentCurve),this._currentCurve=m(i),this._scene.add(this._currentCurve)}this.debug&&this._stats.begin();var r=C.getters.all,a=r.timestamp,o=r.auto,s=r.ratio;window.data&&this.drawPoints(),o&&(this.params.timestamp+=s,C.dispatch("setState",{key:"timestamp",value:a+s})),this._renderer.clear(),this._renderer.setViewport(0,0,1e3,600),this._renderer.render(this._scene,this._camera),this._labelRenderer.render(this._scene,this._camera),this.debug&&this._stats.end()}},{key:"renderer",get:function(){return this._renderer}},{key:"camera",get:function(){return this._camera}},{key:"scene",get:function(){return this._scene}}]),t}(),M=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"chart",staticClass:"chart-container"})};M._withStripped=!0;var L=n(3),O=n.n(L),j={room_main:"主会场",room_A:"分会场A",room_B:"分会场B",room_C:"分会场C",room_D:"分会场D",check_in_area:"签到处",posters_area:"海报区",reception_desk:"服务台",exhibition_hall:"展厅",dining_hall:"餐厅",leisure_area:"休闲区",room1:"room1",room2:"room2",room3:"room3",room4:"room4",room5:"room5",room6:"room6",toilet1:"厕所1",toilet2:"厕所2",toilet3:"厕所3",escalator1:"扶梯1",escalator2:"扶梯2"},E=function(t){var e=t.x,n=t.y,i=t.z;return e>=2&&e<=11&&n>=19&&n<=28&&1===i?j.room_main:e>=2&&e<=3&&n>=1&&n<=5&&1===i?j.room_A:e>=4&&e<=5&&n>=1&&n<=5&&1===i?j.room_B:e>=6&&e<=7&&n>=1&&n<=5&&1===i?j.room_C:e>=8&&e<=9&&n>=1&&n<=5&&1===i?j.room_D:e>=12&&e<=13&&n>=2&&n<=5&&1===i?j.check_in_area:e>=3&&e<=9&&n>=7&&n<=8&&1===i?j.posters_area:e>=14&&e<=15&&n>=19&&n<=20&&1===i?j.reception_desk:e>=2&&e<=11&&n>=15&&n<=18&&1===i?j.exhibition_hall:e>=2&&e<=9&&n>=1&&n<=5&&2===i?j.dining_hall:e>=13&&e<=15&&n>=0&&n<=5&&2===i?j.leisure_area:e>=6&&e<=9&&n>=10&&n<=11&&1===i?j.room1:e>=10&&e<=11&&n>=10&&n<=11&&1===i?j.room2:e>=14&&e<=15&&n>=21&&n<=24&&1===i?j.room3:e>=14&&e<=15&&n>=25&&n<=26&&1===i?j.room4:e>=10&&e<=11&&n>=1&&n<=5&&2===i?j.room5:e>=6&&e<=7&&n>=10&&n<=11&&2===i?j.room6:e>=4&&e<=5&&n>=10&&n<=11&&1===i?j.toilet1:e>=14&&e<=15&&n>=27&&n<=28&&1===i?j.toilet2:e>=4&&e<=5&&n>=10&&n<=11&&2===i?j.toilet3:1===e&&n>=10&&n<=11&&(1===i||2===i)?j.escalator1:14===e&&n>=10&&n<=11&&(1===i||2===i)?j.escalator2:""},R=Object.values(j),z={props:{position:{type:String,default:"room-main"}},data:function(){return{}},computed:{isLoading:function(){return this.$store.getters.getState("loading")}},watch:{isLoading:function(t,e){this.renderer()}},created:function(){},mounted:function(){this._chart=new O.a.Chart({container:this.$refs.chart,width:800,height:320,padding:{top:40,right:"20%",bottom:20,left:70}})},methods:{getData:function(){for(var t=window.params,e=t.min,n=t.max,i=[],r={},a=function(t){var e=_(window.data,t);R.forEach(function(t){r[t]=0});for(var n=0;n<e.length;n++){var a=e[n],o=E(a);o&&r[o]++}R.forEach(function(e){i.push({time:t,count:r[e],type:e})})},o=e;o<n;o+=30)a(o);return i},renderer:function(){this._data=this.getData(),this._chart.source(this._data),this._chart.tooltip({useHtml:!0,shared:!0,htmlContent:function(t,e){return'\n            <div class="g2-tooltip">\n              <div class="g2-tooltip-title" style="margin-bottom: 4px;">'.concat(b(t),'</div>\n              <ul class="g2-tooltip-list">').concat(function(t){for(var e="",n=0;n<t.length;n++){var i=t[n];e+='\n              <li data-index={index}>\n                <span style="background-color:{color};width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:8px;"></span>\n                {name}<span class="g2-tooltip-value">{value}</span>\n              </li>\n            '.replace("{index}",n).replace("{color}",i.color).replace("{name}",i.name).replace("{value}",i.value)}return e}(e),"</ul>\n            </div>\n          ")}}),this._chart.legend({position:"right",selectedMode:"single"}),this._chart.axis("time",{label:{formatter:b}}),this._chart.axis("count",{title:{position:"end"}}),this._chart.scale("count",{alias:"人数(个)"}),this._chart.filter("type",function(t){return t===R[0]}),this._chart.line().position("time*count").color("type"),this._chart.render()}}},$=n(1),T=Object($.a)(z,M,[],!1,null,"570776ca",null);T.options.__file="src/components/VenuePersonChart.vue";var A=T.exports,F=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"chart",staticClass:"chart-container"})};F._withStripped=!0;var I=Object.values(j),B={data:function(){return{}},computed:{isLoading:function(){return this.$store.getters.getState("loading")}},watch:{isLoading:function(t,e){this.renderer()}},created:function(){},mounted:function(){this._chart=new O.a.Chart({container:this.$refs.chart,width:800,height:320,padding:{top:40,right:"20%",bottom:20,left:70}})},methods:{getData:function(){var t=[],e={};Object.values(window.data).forEach(function(n){I.forEach(function(t){e[t]=0}),n.forEach(function(t,n,i){if(n!==i.length-1){var r=E(t);e[r]+=i[n+1].time-i[n].time}}),I.forEach(function(i,r){t.push({id:n[0].id,type:i,duration:e[i]})})}),t.sort(function(t,e){var n=I.indexOf(t.type),i=I.indexOf(e.type);return n-i==0?e.duration-t.duration:n-i});for(var n=0,i=[S()({index:0},t[0])],r=1;r<t.length;r++)t[r].type===t[r-1].type?i[r]=S()({index:++n},t[r]):(n=0,i[r]=S()({index:0},t[r]));return i},renderer:function(){this._data=this.getData(),console.log(this._data),this._chart.source(this._data),this._chart.tooltip({useHtml:!0,shared:!0,htmlContent:function(t,e){var n=e[0].point._origin;return'\n            <div class="g2-tooltip">\n              <div class="g2-tooltip-title" style="margin-bottom: 4px;">人员ID: '.concat(n.id,'</div>\n              <ul class="g2-tooltip-list">').concat(function(t){for(var e="",n=0;n<t.length;n++){var i=t[n];e+='\n              <li data-index={index}>\n                <span style="background-color:{color};width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:8px;"></span>\n                {name}<span class="g2-tooltip-value">{value}</span>\n              </li>\n            '.replace("{index}",n).replace("{color}",i.color).replace("{name}",i.name).replace("{value}",i.value)}return e}(e),"</ul>\n            </div>\n          ")}}),this._chart.legend({position:"right",selectedMode:"single"}),this._chart.axis("index",!1),this._chart.axis("duration",{title:{position:"end"}}),this._chart.scale("duration",{alias:"时长(秒)"}),this._chart.filter("type",function(t){return t===I[0]}),this._chart.line().position("index*duration").color("type"),this._chart.render()}}},N=Object($.a)(B,F,[],!1,null,"0ac546dc",null);N.options.__file="src/components/VenueTimeChart.vue";var V=N.exports,G=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"chart",staticClass:"chart-container"})};G._withStripped=!0;var W=n(11),H=n.n(W),J={data:function(){return{}},computed:{isLoading:function(){return this.$store.getters.getState("loading")}},watch:{isLoading:function(t,e){this.renderer()}},created:function(){},mounted:function(){this._chart=new O.a.Chart({container:this.$refs.chart,width:800,height:600,padding:{top:20,right:"20%",bottom:20,left:70}})},methods:{getData:function(){return Object.values(window.data).map(function(t){var e=t[0].time,n=t[t.length-1].time;return{id:t[0].id,min:e,max:n,time:[e,n]}}).sort(function(t,e){var n=H()(t.time,2),i=n[0],r=n[1],a=H()(e.time,2),o=a[0];return a[1]-o-(r-i)}).map(function(t,e){return S()({index:e},t)})},renderer:function(){this._data=this.getData(),this._chart.source(this._data),this._chart.axis("time",{position:"left",label:{formatter:b}}),this._chart.scale("time",{alias:"时间",min:24e3,max:62e3}),this._chart.axis("index",!1),this._chart.coord().transpose(),this._chart.legend(!1),this._chart.tooltip({useHtml:!0,shared:!0,htmlContent:function(t,e){var n=e[0].point._origin;return'\n            <div class="g2-tooltip">\n              <div class="g2-tooltip-title" style="margin-bottom: 4px;">人员ID: '.concat(n.id,'</div>\n              <ul class="g2-tooltip-list">').concat(function(t){for(var e="",i=0;i<t.length;i++){var r=t[i];e+='\n              <li data-index={index}>\n                <span style="background-color:{color};width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:8px;"></span>\n                {name}<span class="g2-tooltip-value">{value}</span>\n              </li>\n            '.replace("{index}",i).replace("{color}",r.color).replace("{name}",r.name).replace("{value}","".concat(b(n.min),"-").concat(b(n.max)))}return e}(e),"</ul>\n            </div>\n          ")}}),this._chart.on("tooltip:change",function(t){}),this._chart.interval().position("index*time"),this._chart.render()}}},q=Object($.a)(J,G,[],!1,null,"3725f67e",null);q.options.__file="src/components/TimeRangeChart.vue";var U=q.exports,X=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"slide-container"},[e("div",{ref:"slide"})])};X._withStripped=!0;var Y=n(19),K=n.n(Y),Q=n(20),Z=n.n(Q),tt={data:function(){return{}},computed:{isLoading:function(){return this.$store.getters.getState("loading")}},watch:{isLoading:function(t,e){this._ds=this.getDataSet(),this.renderer()}},created:function(){window.a=this},mounted:function(){},methods:{getDataSet:function(){var t=new Z.a({state:{start:window.params.min,end:window.params.max}});return t.createView().source(window.originData).transform({type:"filter",callback:function(e){return e.time<=t.state.end&&e.time>=t.state.start}}),t},renderer:function(){this._slider=new K.a({container:this.$refs.slide,padding:[20,100,60],data:window.originData.slice(0,1e3),xAxis:"time",yAxis:"id",scales:{time:{formatter:b}},backgroundChart:{type:"interval",color:"rgba(0, 0, 0, 1)"},onChange:function(t){t.startText,t.endText}}),this._slider.render()}}},et=Object($.a)(tt,X,[],!1,null,"81662d9e",null);et.options.__file="src/components/Slide.vue";var nt={components:{"venue-person-chart":A,"venue-time-chart":V,"time-range-chart":U,slide:et.exports},data:function(){return{}},computed:{isLoading:function(){return this.$store.getters.getState("loading")},timeString:function(){var t=this.$store.getters.getState("timestamp");return b(t)},lastPointsNumString:function(){var t=this.$store.getters.getState("lastPointsNum"),e=this.$store.getters.getState("currentLog");return"\n        当前总人数：".concat(t,"\n        当前记录：").concat(JSON.stringify(e),"\n      ").trim()}},watch:{isLoading:function(t,e){this.app3D.animate()}},created:function(){window.a=this,this.app3D=new D(!0)},mounted:function(){this.app3D.mount(this.$refs.app3D)}},it=(n(32),n(34),Object($.a)(nt,r,[],!1,null,"617ab0be",null));it.options.__file="src/components/App.vue";var rt=it.exports;window.start=performance.now();var at=new i.a({store:C,render:function(t){return t(rt)}});at.$mount("#app"),window.v=at,C.dispatch("loadCSVData","log-day1.csv")},5:function(t,e,n){var i=n(33);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(8)(i,r);i.locals&&(t.exports=i.locals)},6:function(t,e,n){var i=n(35);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(8)(i,r);i.locals&&(t.exports=i.locals)}});